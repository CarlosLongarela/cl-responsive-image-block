(()=>{"use strict";var e,i={221:()=>{const e=window.wp.blocks,i=window.wp.blockEditor,a=window.wp.components,r=window.wp.element,n=window.ReactJSXRuntime;(0,e.registerBlockType)("tabernawp/responsive-image",{edit:function({attributes:e,setAttributes:o}){const{desktopImage:s,mobileImage:t,imageLink:l,altText:c,disableLazyLoading:d,openInNewWindow:m}=e,[p,g]=(0,r.useState)(""),h=(0,i.useBlockProps)({className:"cl-responsive-image"});return(0,n.jsxs)(r.Fragment,{children:[(0,n.jsxs)(i.InspectorControls,{children:[(0,n.jsxs)(a.PanelBody,{title:"Imágenes",initialOpen:!0,children:[(0,n.jsx)(a.CheckboxControl,{label:"Deshabilitar lazy loading",checked:d,onChange:e=>o({disableLazyLoading:e}),help:"Desactivar la carga diferida para cargar las imágenes inmediatamente"}),(0,n.jsx)(i.MediaUpload,{onSelect:e=>o({desktopImage:e.url}),allowedTypes:["image"],render:({open:e})=>(0,n.jsx)(a.Button,{onClick:e,variant:"primary",style:{marginBottom:"10px",width:"100%"},children:s?"Cambiar imagen de escritorio":"Seleccionar imagen de escritorio"})}),s&&(0,n.jsx)("div",{style:{marginBottom:"20px"},children:(0,n.jsx)("img",{src:s,alt:"Vista previa escritorio",style:{width:"100%",height:"auto",border:"1px solid #ddd",borderRadius:"4px"}})}),(0,n.jsx)(i.MediaUpload,{onSelect:e=>o({mobileImage:e.url}),allowedTypes:["image"],render:({open:e})=>(0,n.jsx)(a.Button,{onClick:e,variant:"secondary",style:{marginBottom:"10px",width:"100%"},children:t?"Cambiar imagen móvil":"Seleccionar imagen móvil"})}),t&&(0,n.jsx)("div",{style:{marginBottom:"20px"},children:(0,n.jsx)("img",{src:t,alt:"Vista previa móvil",style:{width:"100%",height:"auto",border:"1px solid #ddd",borderRadius:"4px"}})})]}),(0,n.jsxs)(a.PanelBody,{title:"Configuración de imagen",initialOpen:!0,children:[(0,n.jsx)(a.TextControl,{label:"Enlace de la imagen",value:l,onChange:e=>{o({imageLink:e}),""===e.trim()||(e=>{try{const i=new URL(e);return"http:"===i.protocol||"https:"===i.protocol}catch(e){return!1}})(e)?g(""):g("Por favor, introduce una URL válida (debe comenzar con http:// o https://)")},help:p||"Introduce una URL completa (ej: https://ejemplo.com)",className:p?"has-error":""}),p&&(0,n.jsx)(a.Notice,{status:"error",isDismissible:!1,children:p}),(0,n.jsx)(a.CheckboxControl,{label:"Abrir enlace en ventana nueva",checked:m,onChange:e=>o({openInNewWindow:e}),help:"Solo se aplica si has configurado un enlace"}),(0,n.jsx)(a.TextControl,{label:"Texto alternativo",value:c,onChange:e=>o({altText:e})})]})]}),(0,n.jsx)("div",{...h,children:(0,n.jsx)("div",{className:"cl-responsive-image-editor",children:s?(0,n.jsxs)("picture",{className:"cl-responsive-image-picture",children:[t&&(0,n.jsx)("source",{srcSet:t,media:"(max-width: 768px)"}),(0,n.jsx)("img",{src:s,alt:c||"Vista previa",className:"cl-responsive-image-img"})]}):(0,n.jsx)("div",{className:"cl-responsive-image-placeholder",children:(0,n.jsx)("p",{children:"Selecciona una imagen de escritorio para comenzar"})})})})]})},save:function({attributes:e}){const{desktopImage:a,mobileImage:r,imageLink:o,altText:s,disableLazyLoading:t,openInNewWindow:l}=e;if(!a)return null;const c=i.useBlockProps.save({className:"cl-responsive-image"}),d=(0,n.jsxs)("picture",{className:"cl-responsive-image-picture",children:[r&&(0,n.jsx)("source",{srcSet:r,media:"(max-width: 768px)"}),(0,n.jsx)("img",{src:a,alt:s||"",className:"cl-responsive-image-img",loading:t?"eager":"lazy"})]});return(0,n.jsx)("div",{...c,children:o?(0,n.jsx)("a",{href:o,target:l?"_blank":"_self",rel:l?"noopener noreferrer":void 0,className:"cl-responsive-image-link",children:d}):d})}})}},a={};function r(e){var n=a[e];if(void 0!==n)return n.exports;var o=a[e]={exports:{}};return i[e](o,o.exports,r),o.exports}r.m=i,e=[],r.O=(i,a,n,o)=>{if(!a){var s=1/0;for(d=0;d<e.length;d++){for(var[a,n,o]=e[d],t=!0,l=0;l<a.length;l++)(!1&o||s>=o)&&Object.keys(r.O).every(e=>r.O[e](a[l]))?a.splice(l--,1):(t=!1,o<s&&(s=o));if(t){e.splice(d--,1);var c=n();void 0!==c&&(i=c)}}return i}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,n,o]},r.o=(e,i)=>Object.prototype.hasOwnProperty.call(e,i),(()=>{var e={366:0,337:0};r.O.j=i=>0===e[i];var i=(i,a)=>{var n,o,[s,t,l]=a,c=0;if(s.some(i=>0!==e[i])){for(n in t)r.o(t,n)&&(r.m[n]=t[n]);if(l)var d=l(r)}for(i&&i(a);c<s.length;c++)o=s[c],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(d)},a=globalThis.webpackChunk=globalThis.webpackChunk||[];a.forEach(i.bind(null,0)),a.push=i.bind(null,a.push.bind(a))})();var n=r.O(void 0,[337],()=>r(221));n=r.O(n)})();