(()=>{"use strict";var e,i={221:()=>{const e=window.wp.blocks,i=window.wp.blockEditor,a=window.wp.components,r=window.wp.element,s=window.ReactJSXRuntime;(0,e.registerBlockType)("tabernawp/responsive-image",{edit:function({attributes:e,setAttributes:t}){const{desktopImage:o,mobileImage:n,imageLink:l,altText:c,disableLazyLoading:d}=e,[m,p]=(0,r.useState)(""),g=(0,i.useBlockProps)({className:"cl-responsive-image"});return(0,s.jsxs)(r.Fragment,{children:[(0,s.jsxs)(i.InspectorControls,{children:[(0,s.jsxs)(a.PanelBody,{title:"Imágenes",initialOpen:!0,children:[(0,s.jsx)(i.MediaUpload,{onSelect:e=>t({desktopImage:e.url}),allowedTypes:["image"],render:({open:e})=>(0,s.jsx)(a.Button,{onClick:e,variant:"primary",style:{marginBottom:"10px",width:"100%"},children:o?"Cambiar imagen de escritorio":"Seleccionar imagen de escritorio"})}),o&&(0,s.jsx)("div",{style:{marginBottom:"20px"},children:(0,s.jsx)("img",{src:o,alt:"Vista previa escritorio",style:{width:"100%",height:"auto",border:"1px solid #ddd",borderRadius:"4px"}})}),(0,s.jsx)(i.MediaUpload,{onSelect:e=>t({mobileImage:e.url}),allowedTypes:["image"],render:({open:e})=>(0,s.jsx)(a.Button,{onClick:e,variant:"secondary",style:{marginBottom:"10px",width:"100%"},children:n?"Cambiar imagen móvil":"Seleccionar imagen móvil"})}),n&&(0,s.jsx)("div",{style:{marginBottom:"20px"},children:(0,s.jsx)("img",{src:n,alt:"Vista previa móvil",style:{width:"100%",height:"auto",border:"1px solid #ddd",borderRadius:"4px"}})})]}),(0,s.jsxs)(a.PanelBody,{title:"Configuración de imagen",initialOpen:!0,children:[(0,s.jsx)(a.TextControl,{label:"Enlace de la imagen",value:l,onChange:e=>{t({imageLink:e}),""===e.trim()||(e=>{try{const i=new URL(e);return"http:"===i.protocol||"https:"===i.protocol}catch(e){return!1}})(e)?p(""):p("Por favor, introduce una URL válida (debe comenzar con http:// o https://)")},help:m||"Introduce una URL completa (ej: https://ejemplo.com)",className:m?"has-error":""}),m&&(0,s.jsx)(a.Notice,{status:"error",isDismissible:!1,children:m}),(0,s.jsx)(a.TextControl,{label:"Texto alternativo",value:c,onChange:e=>t({altText:e})}),(0,s.jsx)(a.CheckboxControl,{label:"Deshabilitar lazy loading",checked:d,onChange:e=>t({disableLazyLoading:e})})]})]}),(0,s.jsx)("div",{...g,children:(0,s.jsx)("div",{className:"cl-responsive-image-editor",children:o?(0,s.jsxs)("picture",{className:"cl-responsive-image-picture",children:[n&&(0,s.jsx)("source",{srcSet:n,media:"(max-width: 768px)"}),(0,s.jsx)("img",{src:o,alt:c||"Vista previa",className:"cl-responsive-image-img"})]}):(0,s.jsx)("div",{className:"cl-responsive-image-placeholder",children:(0,s.jsx)("p",{children:"Selecciona una imagen de escritorio para comenzar"})})})})]})},save:function({attributes:e}){const{desktopImage:a,mobileImage:r,imageLink:t,altText:o,disableLazyLoading:n}=e;if(!a)return null;const l=i.useBlockProps.save({className:"cl-responsive-image"}),c=(0,s.jsxs)("picture",{className:"cl-responsive-image-picture",children:[r&&(0,s.jsx)("source",{srcSet:r,media:"(max-width: 768px)"}),(0,s.jsx)("img",{src:a,alt:o||"",className:"cl-responsive-image-img",loading:n?"eager":"lazy"})]});return(0,s.jsx)("div",{...l,children:t?(0,s.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"cl-responsive-image-link",children:c}):c})}})}},a={};function r(e){var s=a[e];if(void 0!==s)return s.exports;var t=a[e]={exports:{}};return i[e](t,t.exports,r),t.exports}r.m=i,e=[],r.O=(i,a,s,t)=>{if(!a){var o=1/0;for(d=0;d<e.length;d++){for(var[a,s,t]=e[d],n=!0,l=0;l<a.length;l++)(!1&t||o>=t)&&Object.keys(r.O).every(e=>r.O[e](a[l]))?a.splice(l--,1):(n=!1,t<o&&(o=t));if(n){e.splice(d--,1);var c=s();void 0!==c&&(i=c)}}return i}t=t||0;for(var d=e.length;d>0&&e[d-1][2]>t;d--)e[d]=e[d-1];e[d]=[a,s,t]},r.o=(e,i)=>Object.prototype.hasOwnProperty.call(e,i),(()=>{var e={366:0,337:0};r.O.j=i=>0===e[i];var i=(i,a)=>{var s,t,[o,n,l]=a,c=0;if(o.some(i=>0!==e[i])){for(s in n)r.o(n,s)&&(r.m[s]=n[s]);if(l)var d=l(r)}for(i&&i(a);c<o.length;c++)t=o[c],r.o(e,t)&&e[t]&&e[t][0](),e[t]=0;return r.O(d)},a=globalThis.webpackChunk=globalThis.webpackChunk||[];a.forEach(i.bind(null,0)),a.push=i.bind(null,a.push.bind(a))})();var s=r.O(void 0,[337],()=>r(221));s=r.O(s)})();