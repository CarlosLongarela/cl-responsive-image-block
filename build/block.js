(()=>{"use strict";const e=window.wp.blocks,i=window.wp.blockEditor,t=window.wp.components,a=window.wp.element,n=window.ReactJSXRuntime;(0,e.registerBlockType)("tabernawp/responsive-image",{edit:function({attributes:e,setAttributes:o}){const{desktopImage:r,mobileImage:l,imageLink:s,altText:m}=e;return(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)(i.InspectorControls,{children:(0,n.jsxs)(t.PanelBody,{title:"Configuraci贸n de imagen",initialOpen:!0,children:[(0,n.jsx)(t.TextControl,{label:"Enlace de la imagen",value:s,onChange:e=>o({imageLink:e})}),(0,n.jsx)(t.TextControl,{label:"Texto alternativo",value:m,onChange:e=>o({altText:e})})]})}),(0,n.jsxs)("div",{className:"responsive-image-editor",children:[(0,n.jsx)(i.MediaUpload,{onSelect:e=>o({desktopImage:e.url}),allowedTypes:["image"],render:({open:e})=>(0,n.jsx)(t.Button,{onClick:e,variant:"primary",style:{marginBottom:"10px"},children:r?"Cambiar imagen de escritorio":"Seleccionar imagen de escritorio"})}),r&&(0,n.jsx)("img",{src:r,alt:"Vista previa escritorio",style:{width:"100%",maxWidth:"400px",marginBottom:"20px"}}),(0,n.jsx)(i.MediaUpload,{onSelect:e=>o({mobileImage:e.url}),allowedTypes:["image"],render:({open:e})=>(0,n.jsx)(t.Button,{onClick:e,variant:"secondary",style:{marginBottom:"10px"},children:l?"Cambiar imagen m贸vil":"Seleccionar imagen m贸vil"})}),l&&(0,n.jsx)("img",{src:l,alt:"Vista previa m贸vil",style:{width:"100%",maxWidth:"200px",marginBottom:"20px"}})]})]})},save:function({attributes:e}){const{desktopImage:i,mobileImage:t,imageLink:a,altText:o}=e;if(!i)return null;const r=(0,n.jsxs)("picture",{children:[t&&(0,n.jsx)("source",{srcSet:t,media:"(max-width: 768px)"}),(0,n.jsx)("img",{src:i,alt:o||"",style:{width:"100%",display:"block"}})]});return a?(0,n.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",children:r}):r}})})();